<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmed - NaiSmart Sacco</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/confirmation.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/dark-mode.css') }}">
    
</head>
<body>
    <div class="confirmation-container">
        <div class="confirmation-box">
            <div class="checkmark-wrapper">
                <svg class="checkmark" viewBox="0 0 52 52">
                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none" />
                    <path class="checkmark-check" fill="none" d="M14 27l7 7 17-17" />
                </svg>
                <h1>Booking Confirmed!</h1>
                <p class="confirmation-message">Your ride has been scheduled successfully.</p>
                <div class="booking-details">
                    {% if booking %}
                    <div class="booking-info">
                        <h3>Booking Details</h3>
                        <p><strong>Booking Reference:</strong> #{{ booking.id }}</p>
                        <p><strong>Route:</strong> {{ booking.route }}</p>
                        <p><strong>Date:</strong> {{ booking.date.strftime('%B %d, %Y') }}</p>
                        <p><strong>Time:</strong> {{ booking.time.strftime('%I:%M %p') }}</p>
                        <p><strong>Pickup Point:</strong> {{ booking.pickup }}</p>
                        <p><strong>Drop-off Point:</strong> {{ booking.dropoff }}</p>
                        {% if booking.vehicle %}
                        <p><strong>Vehicle:</strong> {{ booking.vehicle.vehicle_model }} ({{ booking.vehicle.plate_number }})</p>
                        {% endif %}
                    </div>
                    
                    <div class="next-steps">
                        <h3>Next Steps</h3>
                        <ul>
                            <li>Arrive at your pickup point at least 10 minutes before your scheduled time</li>
                            <li>Have your booking reference (#{{ booking.id }}) ready</li>
                            {% if booking.vehicle %}
                            <li>Look for the vehicle with plate number {{ booking.vehicle.plate_number }}</li>
                            {% endif %}
                        </ul>
                    </div>
                    {% else %}
                    <div class="booking-info">
                        <p>We couldn't retrieve your booking details. Please check your email for confirmation.</p>
                    </div>
                    {% endif %}
                    <p class="detail-text">Thank you for choosing NaiSmart Sacco. A confirmation message with your booking details has been sent to {{ booking.contact if booking else "your registered email" }}.</p>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="{{ url_for('index') }}" class="btn btn-primary">Back to Home</a>
                <a href="/client/Booking.html" class="btn btn-secondary">Book Another Ride</a>
            </div>
        </div>
        
        <div class="success-animation">
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/dark-mode.js') }}"></script>
</body>
</html>